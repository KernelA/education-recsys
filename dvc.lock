schema: '2.0'
stages:
  download_data:
    cmd: kaggle datasets download -d sharthz23/mts-library --unzip -p ./data/mts/raw
    outs:
    - path: ./data/mts/raw
      hash: md5
      md5: 4d3e0c84d99939f3a83b187da647fe33.dir
      size: 56317184
      nfiles: 3
  dump_data:
    cmd: python ./dump_data.py
    deps:
    - path: ./configs/data/mts_lib.yaml
      hash: md5
      md5: 7ed4d275db1a068f1ae81ff88bc10030
      size: 182
    - path: ./configs/dump.yaml
      hash: md5
      md5: c3ec0b2f93835f1617f69904b352495a
      size: 74
    - path: ./data/mts/raw
      hash: md5
      md5: 4d3e0c84d99939f3a83b187da647fe33.dir
      size: 56317184
      nfiles: 3
    - path: ./dump_data.py
      hash: md5
      md5: 9e0a98df62d3a82ca5121fec825dc5f1
      size: 912
    outs:
    - path: ./data/mts/dump/interactions.parquet
      hash: md5
      md5: 234b9ef93d3592e00bfe1bc6b368fad7
      size: 11186434
    - path: ./data/mts/dump/items.parquet
      hash: md5
      md5: c25fc8bb20a8083aaae4271d112556e8
      size: 1883791
    - path: ./data/mts/dump/users.parquet
      hash: md5
      md5: 0c0525030480b8ccc30ac4fb55c60879
      size: 524265
  cross_val:
    cmd: python ./train_recommender.py -m model=most_pop_per_age,most_pop,bm25,cosine,tfidf
    deps:
    - path: ./configs/cross_val.yaml
      hash: md5
      md5: d85fc95951b87feefc7e635c5eb86591
      size: 327
    - path: ./configs/model/inner_implicit_model
      hash: md5
      md5: d0fedaed71c19ae2218048eaa155e077.dir
      size: 183
      nfiles: 3
    - path: ./data/mts/dump/interactions.parquet
      hash: md5
      md5: 234b9ef93d3592e00bfe1bc6b368fad7
      size: 11186434
    - path: ./data/mts/dump/items.parquet
      hash: md5
      md5: c25fc8bb20a8083aaae4271d112556e8
      size: 1883791
    - path: ./data/mts/dump/users.parquet
      hash: md5
      md5: 0c0525030480b8ccc30ac4fb55c60879
      size: 524265
    - path: ./train_recommender.py
      hash: md5
      md5: 3c968c90a07e36d9e500488404eaac9e
      size: 1784
    outs:
    - path: ./exp/multirun
      hash: md5
      md5: 46b0fba6fa8b008583153557fd832aed.dir
      size: 79014
      nfiles: 31
